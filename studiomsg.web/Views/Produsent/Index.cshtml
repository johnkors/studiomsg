@using studiomsg.web.Controllers
@model StudioMessage
@{
    var temptDataMsg = TempData["studiomsg"];
    StudioMessage msgSent = null;
    if (temptDataMsg != null)
    {
        msgSent = (StudioMessage) temptDataMsg;
    }

    var availableTypes = new SelectList(Model.AvailableTypes, "Value", "Name");
}
<h1>Produsent</h1>
<div id="admin">
    @using(Html.BeginForm("SendMessage", "Produsent"))
    {
        <span>Melding til studio:</span>
        @Html.TextAreaFor(m => m.Message)
        @Html.DropDownListFor( m => m.ValuedOfSelectedMessageType, availableTypes)
   
        <button>Send til studio</button>
    }
</div>
<div id="alert">
    @if(msgSent != null){
        <span>Melding sendt til studio: @msgSent.Message via @msgSent.SelectedMsgType.Name </span>
    }
</div>